{% extends 'master.html' %}
{% block content %}


<section>
  <div class="card">
    <div class="card-header">
                       
          
          <div class="row">
        <div class="col-md-4"> <h4>Company Details</h4></div>
              <div class="col-md-4"></div>
              <div class="col-md-4 text-right">
                  <a class="btn btn-primary btn-sm"  href="/company_create" style="color:white">+ Add New</a>

              </div>

          </div>
    <div class="card-body">


  <table id="example" class="display" style="width:100%">
                                
    <thead>
      <tr>
        <th style="text-align:center">SL No.</th>
        <th style="text-align:center">Company Name</th>
        <th style="text-align:center">Pandeduct</th>
        <th style="text-align:center">Tandeduct</th>
        <th style="text-align:center">GST</th>
        <th style="text-align:center">Maximum Employee</th>
        <th style="text-align:center">Maximum CRM</th>
        <th style="text-align:center">Logo</th>
        <th style="text-align:center;width:180px">Action</th>

    
      </tr>
    </thead>
    <tbody style="text-align: center;">
      {% for company in companies %}
      <tr>
        <td style="text-align:center">{{ forloop.counter }}</td>
        <td style="text-align:center">{{ company.payroll }}</td>
        <td style="text-align:center">{{ company.pandeduct }}</td>
        <td style="text-align:center">{{ company.tandeduct }}</td>
        <td style="text-align:center">{{ company.gstn }}</td>
        <td style="text-align:center">{{ company.max_emp }}</td>
        <td style="text-align:center">{{ company.max_crm }}</td>
        <td style="text-align:center">
            <a download href="{{ company.clogo.url }}" class="btn btn-warning btn-sm"><i class="fa fa-download"></i></a>

        
        </td>
        <td style="text-align:center">
            <form action="/company_delete/{{ company.id }}" method="POST">
            {% csrf_token %}
            <a href="/company_edit/{{ company.id }}" class="btn btn-primary btn-sm"  style="color:white"> <i class="fa fa-edit" style="color:white;"></i></a> 
            <button type="submit" class="btn btn-danger  btn-sm show_confirm" data-toggle="tooltip" title='Delete'> <i class="fa fa-trash" style="color:white;"></i></button>
        </form>
        
    </td>
      </tr>

      
    {% endfor %}
   </table>



  

</div>
</div>
{% for message in messages %}

{% if 'success' == message.tags %}
        <script type="text/javascript">
          // Default Configuration
              $(document).ready(function() {
                  toastr.options = {
                      'closeButton': true,
                      'debug': false,
                      'newestOnTop': false,
                      'progressBar': true,
                      'positionClass': 'toast-top-right',
                      'preventDuplicates': false,
                      'showDuration': '1000',
                      'hideDuration': '1000',
                      'timeOut': '3000',
                      'extendedTimeOut': '1000',
                      'showEasing': 'swing',
                      'hideEasing': 'linear',
                      'showMethod': 'fadeIn',
                      'hideMethod': 'fadeOut',
                  }
              });
      
          // Toast Type
           
                  toastr.success('Data Submitted Successfully');
             
          // Toast Image and Progress Bar
              $('#image').click(function(event) {
                  toastr.options.progressBar = true,
                  toastr.info('<img src="https://image.flaticon.com/icons/svg/34/34579.svg" style="width:150px;">', 'Toast Image')
              });
      
      
          // Toast Position
              $('#position').click(function(event) {
                  var pos = $('input[name=position]:checked', '#positionForm').val();
                  toastr.options.positionClass = "toast-" + pos;
                  toastr.options.preventDuplicates = false;
                  toastr.info('This sample position', 'Toast Position')
              });
          </script>

        {% elif 'error' == message.tags %}
        <script type="text/javascript">
          // Default Configuration
              $(document).ready(function() {
                  toastr.options = {
                      'closeButton': true,
                      'debug': false,
                      'newestOnTop': false,
                      'progressBar': false,
                      'positionClass': 'toast-top-right',
                      'preventDuplicates': false,
                      'showDuration': '1000',
                      'hideDuration': '1000',
                      'timeOut': '5000',
                      'extendedTimeOut': '1000',
                      'showEasing': 'swing',
                      'hideEasing': 'linear',
                      'showMethod': 'fadeIn',
                      'hideMethod': 'fadeOut',
                  }
              });
      
          // Toast Type
           
                  toastr.error('Data Deleted Successfully');
             
          // Toast Image and Progress Bar
              $('#image').click(function(event) {
                  toastr.options.progressBar = true,
                  toastr.info('<img src="https://image.flaticon.com/icons/svg/34/34579.svg" style="width:150px;">', 'Toast Image')
              });
      
      
          // Toast Position
              $('#position').click(function(event) {
                  var pos = $('input[name=position]:checked', '#positionForm').val();
                  toastr.options.positionClass = "toast-" + pos;
                  toastr.options.preventDuplicates = false;
                  toastr.info('This sample position', 'Toast Position')
              });
          </script>
          
         {% elif 'info' == message.tags %}

        <script type="text/javascript">
          // Default Configuration
              $(document).ready(function() {
                  toastr.options = {
                      'closeButton': true,
                      'debug': false,
                      'newestOnTop': false,
                      'progressBar': false,
                      'positionClass': 'toast-top-right',
                      'preventDuplicates': false,
                      'showDuration': '1000',
                      'hideDuration': '1000',
                      'timeOut': '5000',
                      'extendedTimeOut': '1000',
                      'showEasing': 'swing',
                      'hideEasing': 'linear',
                      'showMethod': 'fadeIn',
                      'hideMethod': 'fadeOut',
                  }
              });
      
          // Toast Type
           
                  toastr.info('Data Updated Successfully');
             
          // Toast Image and Progress Bar
              $('#image').click(function(event) {
                  toastr.options.progressBar = true,
                  toastr.info('<img src="https://image.flaticon.com/icons/svg/34/34579.svg" style="width:150px;">', 'Toast Image')
              });
      
      
          // Toast Position
              $('#position').click(function(event) {
                  var pos = $('input[name=position]:checked', '#positionForm').val();
                  toastr.options.positionClass = "toast-" + pos;
                  toastr.options.preventDuplicates = false;
                  toastr.info('This sample position', 'Toast Position')
              });
          </script>
        {% endif %}
  
        {% endfor %}

</section>
  {% endblock %}